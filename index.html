<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>cậu giận tớ à?</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom right, #1a1a1a, #333);
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      min-height: 100vh;
      color: #ffb6c1;
      text-align: center;
    }

    .container {
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(255,182,193, 0.2);
      display: none;
      max-width: 600px;
      width: 90%;
    }

    #typewriter {
      font-size: 6vw;
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid #ffb6c1;
      width: 0;
      animation: typing 3s steps(30, end) forwards, blink 0.7s infinite;
      margin-bottom: 30px;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 15ch }
    }

    @keyframes blink {
      0%, 100% { border-color: transparent }
      50% { border-color: #ffb6c1 }
    }

    .subtext {
      font-size: 1rem;
      opacity: 0;
      margin: 10px 0;
      padding: 10px;
      border: 2px solid #ffb6c1;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.1);
      transition: opacity 1s ease, transform 0.5s ease;
      transform: scale(0.9);
    }

    .subtext.show {
      opacity: 1;
      transform: scale(1);
    }

    #nextBtn {
      margin-top: 20px;
      background-color: transparent;
      border: none;
      cursor: pointer;
      font-size: 2.5rem;
      color: #ffb6c1;
      transition: transform 0.2s ease;
    }

    #nextBtn:hover {
      transform: scale(1.2);
    }

    #nextBtn:before {
      content: "✈️";
    }

    #goodbyeMessage {
      display: none;
      margin-top: 20px;
      font-size: 1.3rem;
      color: #ffb6c1;
      padding: 20px;
      border: 2px solid #ffb6c1;
      border-radius: 12px;
      background-color: rgba(255, 255, 255, 0.1);
      width: 90%;
      max-width: 500px;
    }

    audio {
      display: none;
    }

    @media (min-width: 600px) {
      #typewriter {
        font-size: 2rem;
      }
      .subtext {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="typewriter">cậu giận tớ à?</div>
    <div class="subtext" id="line1">Nếu tớ sai… thì cho tớ cơ hội được xin lỗi được không?</div>
    <div class="subtext" id="line2">Tớ không biết tại sao cậu lại bảo tớ lăng nhăng nhưng tớ biết tớ sai, cậu cho tớ cơ hội nhé.</div>
    <div class="subtext" id="line3">Tớ chắc tệ lắm trong mắt của cậu.</div>
    <div class="subtext" id="line4">Nhưng trong mắt tớ cậu là người đẹp nhất.</div>
    <div class="subtext" id="line5">Tớ xin lỗi vì những lần tớ không bao giờ chủ động.</div>
    <div class="subtext" id="line6">Một phần là tớ không nghĩ mình sẽ hợp với cậu vì cậu rất giỏi.</div>
    <div class="subtext" id="line7">Tớ không biết phải làm gì ngoài việc nhớ cậu mỗi ngày.</div>
    <div class="subtext" id="line8">Tớ ở đây… vẫn luôn đợi cậu trả lời.</div>
    <div class="subtext" id="line9">Và tớ rất yêu cậu.</div>

    <button id="nextBtn" onclick="showNextLine()"></button>
  </div>

  <div id="goodbyeMessage">
    Cảm ơn cậu đã lắng nghe. Chúc cậu một ngày vui vẻ!
  </div>

  <audio id="background-music" autoplay loop>
    <source src="sound/Shouldnt Be.mp3" type="audio/mpeg" />
    Trình duyệt của bạn không hỗ trợ phát nhạc.
  </audio>

  <script>
    let currentLine = 1;
    const audioElement = document.getElementById('background-music');
    const goodbyeMessage = document.getElementById('goodbyeMessage');

    setTimeout(() => {
      document.querySelector('.container').style.display = 'block';
    }, 0);

    function showNextLine() {
      const line = document.getElementById(`line${currentLine}`);
      if (line) {
        line.classList.add('show');
        currentLine++;
      } else {
        document.getElementById('nextBtn').style.display = 'none';
        fadeOutMusic();
      }
    }

    function fadeOutMusic() {
      let volume = audioElement.volume;
      let fadeInterval = setInterval(() => {
        if (volume > 0) {
          volume -= 0.05;
          audioElement.volume = volume;
        } else {
          clearInterval(fadeInterval);
          audioElement.pause();
          showGoodbyeMessage();
        }
      }, 200);
    }

    function showGoodbyeMessage() {
      goodbyeMessage.style.display = 'block';
    }
  </script>
</body>
</html>
